import{H as N}from"./Header.1c8f520f.js";import{m as k}from"./marked.esm.e7769a72.js";import{_ as v,j as u,g as b,o as r,c as _,d as e,F as h,l as p,t as d,f,r as g,z as m}from"./index.3d7503fa.js";const y={data(){return{user:"",recentNote:[],newestNote:[],user:{},num:0}},methods:{toMain(){this.$router.push("/main")},getCookieObject(){let n=document.cookie;n=n.substring(0,n.length);let i=n.split("; "),o={};return i.forEach(c=>{let t=c.substring(0,c.indexOf("=")),l=c.substring(c.indexOf("=")+1);l=decodeURIComponent(l),o[t]=l}),o}},watch:{recentNote(n,i){for(let o=0;o<this.recentNote.length;o++)this.recentNote[o].content=k(this.recentNote[o].content)}},mounted:async function(){this.recentNote=await u("intro");let n=[],i=[];this.user=await this.getCookieObject(),console.log(this.user.id);let o=await b(this.user.id);console.log(o);let c=o.noteList;this.num=c.length,console.log(c),n=c,console.log(n);for(let t=0;t<n.length;t++){console.log(n[t]);let l=await u(n[t]);console.log(l);for(let s=0;s<l.length;s++)i.push(l[s])}console.log(i),this.recentNote=i;for(let t=0;t<4;t++)this.newestNote.push(n[t]);console.log(this.newestNote)}},w={class:"home_content"},C={class:"left"},x={class:"note_title"},H=["innerHTML"],j={class:"right"},B={class:"info"},M=e("div",null,[e("img",{src:f,alt:""})],-1),O=e("div",null," \u52AA\u529B\u5176\u5B9E\u771F\u7684\u5E76\u4E0D\u96BE ",-1),$=e("span",null,"\u6587\u7AE0",-1),L=e("br",null,null,-1),V=e("div",null,[e("span",null,"\u6807\u7B7E"),e("br"),e("span",null,"0")],-1),I=e("span",null,"\u5206\u7C7B",-1),E=e("br",null,null,-1),F={class:"recentNote"},P=e("div",null,"\u6700\u8FD1\u66F4\u65B0",-1),S=e("div",null,[e("img",{src:f,alt:""})],-1),T={class:"recentNote_span"},U={class:"recentNote_span"},z=e("br",null,null,-1);function A(n,i,o,c,t,l){return r(),_("div",w,[e("div",C,[(r(!0),_(h,null,p(t.recentNote,(s,a)=>(r(),_("div",{class:"home_note",key:a},[e("div",x," || "+d(s.title),1),e("div",{class:"note_content",innerHTML:s.content},null,8,H)]))),128))]),e("div",j,[e("div",B,[M,e("div",null,d(t.user.id),1),O,e("div",null,[e("div",null,[$,L,e("span",null,d(t.recentNote.length),1)]),V,e("div",null,[I,E,e("span",null,d(t.num),1)])]),e("div",{onClick:i[0]||(i[0]=(...s)=>l.toMain&&l.toMain(...s))}," \u7F16\u8F91 ")]),e("div",F,[P,(r(!0),_(h,null,p(t.newestNote,(s,a)=>(r(),_("div",{key:a},[S,e("div",T,[e("span",U,d(s),1),z])]))),128))])])])}const D=v(y,[["render",A]]);const R={components:{Header:N,Content:D},data(){return{}}},q={class:"homepage"};function G(n,i,o,c,t,l){const s=g("Header"),a=g("Content");return r(),_("div",q,[m(s),m(a)])}const W=v(R,[["render",G]]);export{W as default};
