import{_ as h,i as m,a as u,g as c,m as w,b as _,o as f,c as y,d as e,w as n,v as l,t as d,p as v,e as z,f as P}from"./index.3d7503fa.js";const g={data(){return{email:"",yzm:"",inputYzm:"",password:"",repeatPassword:"",username:"",users:[],errUsername:"",errEmail:"",errPassword:"",errYzm:"",errRepeatPassword:""}},methods:{toLogin(){this.$router.push("/")},async send(){if(!m(this.email)){this.errEmail="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\uFF01";return}let a=await u.get("http://43.142.81.251:3000/",{params:{email:this.email}});console.log(a.data),this.yzm=a.data,alert("\u53D1\u9001\u9A8C\u8BC1\u7801\u6210\u529F")},async getUser(){return await c(this.username)},async check(){let a=await this.getUser();if(console.log(a.name),!!this.checkItem())if(this.yzm==this.inputYzm){let s="https://db.api.orght.cn/users/"+this.username;await u({url:s,method:"put",data:{name:a.name,password:w(this.password),email:this.email,noteList:a.noteList}}).then(p=>{console.log("/posts put\u8BF7\u6C42",p.data),alert("\u4FEE\u6539\u6210\u529F"),this.$router.push("/")})}else this.errYzm="\u9A8C\u8BC1\u7801\u9519\u8BEF"},checkItem(){return this.errEmail="",this.errPassword="",this.errYzm="",this.errRepeatPassword="",m(this.email)?_(this.password)?this.password!=this.repeatPassword?(this.errRepeatPassword="\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4",!1):this.yzm==""?(this.errYzm="\u8BF7\u53D1\u9001\u9A8C\u8BC1\u7801",!1):this.inputYzm==""?(this.errYzm="\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A",!1):!0:(this.errPassword="\u5BC6\u7801\u7531\u6570\u5B57\u5B57\u6BCD\u4E0B\u5212\u7EBF\u7EC4\u62106-20\u4F4D",!1):(this.errEmail="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\uFF01",!1)}}},o=a=>(v("data-v-144ab6c9"),a=a(),z(),a),U={id:"findForm"},Y=o(()=>e("div",{id:"findTitle"},[e("img",{src:P,alt:""}),e("h1",{style:{color:"#fff"}},"\u627E\u56DE\u5BC6\u7801")],-1)),k={id:"nicheng"},x=o(()=>e("span",null,"\u7528\u6237\u540D\uFF1A",-1)),b={id:"email"},E=o(()=>e("span",null,"\u90AE\xA0\xA0\xA0\xA0\u7BB1\uFF1A",-1)),I={id:"password"},V=o(()=>e("span",null,"\u5BC6\xA0\xA0\xA0\xA0\u7801\uFF1A",-1)),L={id:"repeatPassword"},B=o(()=>e("span",null,"\u5BC6\xA0\xA0\xA0\xA0\u7801\uFF1A",-1)),R={id:"yzm"},S=o(()=>e("span",null,"\u9A8C\u8BC1\u7801\uFF1A",-1));function C(a,s,p,F,t,i){return f(),y("form",U,[Y,e("div",k,[x,n(e("input",{autocomplete:"",type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>t.username=r),name:"username",placeholder:"\u8BF7\u8F93\u5165\u4FEE\u6539\u7684\u7528\u6237\u540D"},null,512),[[l,t.username]]),e("span",null,d(t.errUsername),1)]),e("div",b,[E,n(e("input",{autocomplete:"",type:"text","onUpdate:modelValue":s[1]||(s[1]=r=>t.email=r),name:"email",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"},null,512),[[l,t.email]]),e("span",null,d(t.errEmail),1)]),e("div",I,[V,n(e("input",{autocomplete:"",type:"password",name:"password","onUpdate:modelValue":s[2]||(s[2]=r=>t.password=r),placeholder:"\u8F93\u5165\u5BC6\u7801"},null,512),[[l,t.password]]),e("span",null,d(t.errPassword),1)]),e("div",L,[B,n(e("input",{autocomplete:"",type:"password","onUpdate:modelValue":s[3]||(s[3]=r=>t.repeatPassword=r),name:"repeatPassword",placeholder:"\u518D\u6B21\u8F93\u5165"},null,512),[[l,t.repeatPassword]]),e("span",null,d(t.errRepeatPassword),1)]),e("div",R,[S,n(e("input",{autocomplete:"",type:"text",name:"yzm","onUpdate:modelValue":s[4]||(s[4]=r=>t.inputYzm=r),placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"},null,512),[[l,t.inputYzm]]),e("div",{onClick:s[5]||(s[5]=(...r)=>i.send&&i.send(...r))},"\u53D1\u9001"),e("span",null,d(t.errYzm),1)]),e("div",null,[e("div",{class:"button",onClick:s[6]||(s[6]=(...r)=>i.toLogin&&i.toLogin(...r))},"\u8FD4\u56DE"),e("div",{class:"button",onClick:s[7]||(s[7]=(...r)=>i.check&&i.check(...r))},"\u91CD\u7F6E")])])}const T=h(g,[["render",C],["__scopeId","data-v-144ab6c9"]]);export{T as default};
